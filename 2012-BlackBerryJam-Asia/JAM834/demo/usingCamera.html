<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Using Camera</title>
    <link rel="stylesheet" href="css/BlackBerry-JQM-all.min.css" />
    <script src="js/BlackBerry-JQM-all.min.js"></script>
    <script src="local:///chrome/webworks.js" type="text/javascript"></script>
</head>
<body>
<div data-role="page">
    <div data-role="header" data-position="fixed">
        <h1>Using Camera</h1>
    </div>
    <div data-role="content">
        <video autoplay controls></video>

        <script type="text/javascript">
            function onFailSoHard(ex) {
                console.log(ex);
            }

            navigator.getUserMedia = navigator.getUserMedia||navigator.webkitGetUserMedia||false;

            if(!!navigator.getUserMedia) {
                navigator.getUserMedia({audio: true, video: true}, function(stream) {
                    var video = document.querySelector('video');
                    video.src = ('webkitURL' in window)?window.webkitURL.createObjectURL(stream):stream;
                }, onFailSoHard);
            } else {
                alert("not supported"); // fallback.
            }
        </script>
    </div>
    <!--/content-->
    <div data-role="footer" data-position="fixed">
        <div id="action-bar-area" data-role="actionbar">
            <div data-role="back"></div>
        </div>
    </div>
</div>
</body>
</html>